{
    "$schema": "https://playground.wordpress.net/blueprint-schema.json",
    "preferredVersions": {
        "php": "latest",
        "wp": "latest"
    },
    "meta": {
        "title": "WildApricot Press Demo",
        "description": "loads the latest plugin into a playground site",
        "author": "asirota",
        "categories": [
            "demo",
            "plugin"
        ]
    },
    "siteOptions": {
        "blogname": "WildApricot Press Demo Site"
    },
    "plugins": [
        "https://github-proxy.com/proxy/?repo=AspirePress/AspireUpdate&branch=playground-ready",
        "error-log-viewer",
        "plugin-check"
    ],
    "features": {
        "networking": true
    },
    "login": true,
    "landingPage": "/wp-admin/admin.php?page=aspirepress-settings",
    "steps": [
        {
            "step": "defineWpConfigConsts",
            "consts": {
                "WP_DISABLE_FATAL_ERROR_HANDLER": true,
                "WP_DEBUG": true,
                "WP_DEBUG_LOG": true,
                "WP_DEBUG_DISPLAY": false,
                "AP_UPDATER_HOST_REWRITES": "api.aspirecloud.org",
                "AP_UPDATER_API_KEY": "foo",
                "AP_UPDATER_REWRITE_WPORG_API": ,
                "AP_UPDATER_API_URL": "api.aspirecloud.org",
                "AP_UPDATER_REWRITE_WPORG_DL": "",
                "AP_UPDATER_DL_URL": "",
                "AP_UPDATER_DEBUG": "",
                "AP_UPDATER_DEBUG_TYPES": "",
                "AP_UPDATER_DEBUG_TYPES_EXCLUDE": "",
                "AP_UPDATER_DEBUG_LOG_PATH": "",
                "AP_UPDATER_DEBUG_SSL": "",
                "AP_UPDATER_EXAMINE_RESPONSES": "",
                "AP_UPDATER_DEBUG_LEVEL": "4"
            }
        },
        {
            "step": "writeFile",
            "path": "/wordpress/wp-content/mu-plugins/rewrite.php",
            "data": "<?php /* Use pretty permalinks */ add_action( 'after_setup_theme', function() { global $wp_rewrite; $wp_rewrite->set_permalink_structure('/%postname%/'); $wp_rewrite->flush_rules(); } );"
        },
        {
            "step": "installTheme",
            "themeZipFile": {
                "resource": "wordpress.org/themes",
                "slug": "twentytwentyfour"
            },
            "themeData": {}
        },
        {
            "step": "writeFile",
            "path": "/wordpress/wp-content/mu-plugins/bgnightly-notice.php",
            "data": "<?php add_action('admin_notices', function() {  echo '<div class=\"notice notice-info is-dismissible\"><p>Welcome to AspireUpdate Testing Environment. See <a href=\"https://docs.aspirepress.org\">AspirePress docs</a> for the testing steps.</a></p></div>'; });"
        }
    ]
}